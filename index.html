<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Capture the Flag</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="styles.css" />
</head>

<body>
  <div class="app">

    <!-- START SCREEN -->
    <section id="screen-start" class="screen screen--active screen--blue-bg">
      <header class="top-bar">
        <button id="helpButton" class="help-button">How to play</button>
      </header>

      <div class="screen-content screen-content--start">
        <div class="logo">
          <div class="logo-line">CAPTURE</div>
          <div class="logo-line">THE FLAG</div>
        </div>

        <div class="panel">
          <label class="field">
            <span class="field-label">Game length</span>
            <div class="select-wrapper">
              <select id="gameLength">
                <option value="" selected disabled>Pick game length</option>
                <option value="3">3 minutes</option>
                <option value="5">5 minutes</option>
                <option value="10">10 minutes</option>
                <option value="15">15 minutes</option>
              </select>
            </div>
          </label>

          <label class="field">
            <span class="field-label">Team</span>
            <div class="select-wrapper">
              <select id="teamSelect">
                <option value="" selected disabled>Pick your team</option>
                <option value="A">Team A</option>
                <option value="B">Team B</option>
              </select>
            </div>
          </label>

          <button id="startButton" class="primary-button primary-button--wide">START</button>
        </div>
      </div>
    </section>

    <!-- GAME SCREEN -->
    <section id="screen-game" class="screen screen--blue-bg">
      <header class="top-bar top-bar--game">
        <div class="team-badge" id="teamBadge">TEAM</div>
        <div class="pill" id="timerDisplay">05:00</div>

        <div class="pill pill--icon">
          <span id="flagCount">0/5</span>
          <span>ðŸš©</span>
        </div>
      </header>

      <!-- âœ… Messages live here (NOT inside camera view) -->
      <div id="toastArea" class="toast-area" aria-live="polite"></div>

      <div class="camera-area">
        <div id="qr-reader" class="camera-view"></div>
      </div>
    </section>

    <!-- FINAL SCREEN -->
    <section id="screen-results-blue" class="screen screen--blue-bg">
      <div class="screen-content screen-content--centered">
        <div class="logo">
          <div class="logo-line">CAPTURE</div>
          <div class="logo-line">THE FLAG</div>
        </div>

        <div class="timer-final" id="finalTime">00:00</div>
        <h1 class="title-final" id="resultsTitle">TIMEâ€™S UP</h1>

        <div class="card">
          <div class="card-main">
            <span id="finalFlagsBlue" class="card-number">0</span>
            <span class="card-icon">ðŸš©</span>
          </div>
          <div class="card-caption" id="resultsCaption">enemy flags stolen</div>
        </div>

        <button id="playAgainBlue" class="primary-button primary-button--wide">
          play again
        </button>
      </div>
    </section>

    <!-- HELP OVERLAY -->
    <div id="helpOverlay" class="help-overlay hidden">
      <div class="help-backdrop"></div>

      <div class="help-card">
        <button id="helpClose" class="help-close" aria-label="Close help">Ã—</button>

        <h2>How to play</h2>

        <ol class="help-list">
          <li><strong>Allow camera access</strong> to play the game.</li>
          <li>Choose a team and <strong>steal the other teamâ€™s flags</strong> by scanning their QR codes.</li>
          <li>You <strong>cannot</strong> scan your own teamâ€™s flags.</li>
          <li>Each QR code can only be scanned once by the same player.</li>
          <li>If you steal <strong>all 5 enemy flags</strong>, you win instantly!</li>
        </ol>
      </div>
    </div>

  </div>

  <script src="https://unpkg.com/html5-qrcode" type="text/javascript"></script>
  <script src="app.js"></script>
</body>
</html>
